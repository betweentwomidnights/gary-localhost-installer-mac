{
  "schema_version": 1,
  "app_name": "Gary Localhost Control Center",
  "variables": {
    "PYTHONUNBUFFERED": "1"
  },
  "default_log_directory": "${HOME}/Library/Logs/GaryLocalhost",
  "services": [
    {
      "id": "audiocraft_mlx",
      "name": "Audiocraft MLX",
      "working_directory": "${WORKSPACE_ROOT}/audiocraft-mlx/audiocraft",
      "executable": "${WORKSPACE_ROOT}/audiocraft-mlx/.venv/bin/python",
      "arguments": [
        "g4l_localhost.py"
      ],
      "environment": {
        "PYTHONUNBUFFERED": "${PYTHONUNBUFFERED}",
        "HF_HUB_DISABLE_XET": "1",
        "HF_XET_HIGH_PERFORMANCE": "0",
        "HF_XET_NUM_RANGE_IN_SEGMENT_BASE": "16",
        "G4L_HF_XET_MODE": "adaptive",
        "G4L_HF_XET_PROBE_TIMEOUT_SECONDS": "20",
        "G4L_HF_DOWNLOADER_XET_MODE": "adaptive",
        "G4L_HF_DOWNLOADER_XET_HIGH_PERFORMANCE": "1",
        "G4L_HF_DOWNLOADER_XET_NUM_CONCURRENT_RANGE_GETS": "128",
        "G4L_HF_XET_FIRST_BYTE_TIMEOUT_SECONDS": "25",
        "G4L_HF_XET_SLOW_SPEED_BPS": "1048576",
        "G4L_HF_XET_SLOW_SPEED_GRACE_SECONDS": "45",
        "G4L_HF_SNAPSHOT_MAX_WORKERS": "128"
      },
      "bootstrap": {
        "python_executable": "python3.11",
        "venv_directory": "${WORKSPACE_ROOT}/audiocraft-mlx/.venv",
        "requirements_file": "${WORKSPACE_ROOT}/audiocraft-mlx/audiocraft/requirements.txt",
        "upgrade_build_tools": true,
        "pip_arguments": []
      },
      "log_file": "audiocraft-mlx.log",
      "health_check": {
        "url": "http://127.0.0.1:8000/health",
        "expected_status": 200,
        "interval_seconds": 3,
        "timeout_seconds": 2
      },
      "auto_start": false,
      "restart_on_crash": true,
      "graceful_shutdown_seconds": 8
    },
    {
      "id": "melodyflow",
      "name": "MelodyFlow",
      "working_directory": "${WORKSPACE_ROOT}/melodyflow",
      "executable": "${WORKSPACE_ROOT}/melodyflow/.venv/bin/python",
      "arguments": [
        "localhost_melodyflow.py"
      ],
      "environment": {
        "PYTHONUNBUFFERED": "${PYTHONUNBUFFERED}",
        "MELODYFLOW_REQUIRE_MPS": "1",
        "HF_HUB_DISABLE_XET": "1",
        "HF_XET_HIGH_PERFORMANCE": "0",
        "HF_XET_NUM_RANGE_IN_SEGMENT_BASE": "4",
        "G4L_HF_XET_MODE": "adaptive",
        "G4L_HF_XET_PROBE_TIMEOUT_SECONDS": "20",
        "G4L_HF_DOWNLOADER_XET_MODE": "adaptive",
        "G4L_HF_DOWNLOADER_XET_HIGH_PERFORMANCE": "1",
        "G4L_HF_DOWNLOADER_XET_NUM_CONCURRENT_RANGE_GETS": "64",
        "G4L_HF_XET_FIRST_BYTE_TIMEOUT_SECONDS": "25",
        "G4L_HF_XET_SLOW_SPEED_BPS": "1048576",
        "G4L_HF_XET_SLOW_SPEED_GRACE_SECONDS": "45",
        "G4L_HF_SNAPSHOT_MAX_WORKERS": "64"
      },
      "bootstrap": {
        "python_executable": "python3.11",
        "venv_directory": "${WORKSPACE_ROOT}/melodyflow/.venv",
        "requirements_file": "${WORKSPACE_ROOT}/melodyflow/requirements.txt",
        "upgrade_build_tools": true,
        "pip_arguments": []
      },
      "log_file": "melodyflow.log",
      "health_check": {
        "url": "http://127.0.0.1:8002/health",
        "expected_status": 200,
        "interval_seconds": 3,
        "timeout_seconds": 2
      },
      "auto_start": false,
      "restart_on_crash": true,
      "graceful_shutdown_seconds": 8
    },
    {
      "id": "stable_audio",
      "name": "Stable Audio",
      "working_directory": "${WORKSPACE_ROOT}/stable-audio-tools",
      "executable": "${WORKSPACE_ROOT}/stable-audio-tools/.venv/bin/python",
      "arguments": [
        "api.py"
      ],
      "environment": {
        "PYTHONUNBUFFERED": "${PYTHONUNBUFFERED}",
        "HF_HUB_DISABLE_XET": "1",
        "HF_XET_HIGH_PERFORMANCE": "0",
        "HF_XET_NUM_RANGE_IN_SEGMENT_BASE": "4",
        "G4L_HF_XET_MODE": "adaptive",
        "G4L_HF_XET_PROBE_TIMEOUT_SECONDS": "20",
        "G4L_HF_DOWNLOADER_XET_MODE": "adaptive",
        "G4L_HF_DOWNLOADER_XET_HIGH_PERFORMANCE": "1",
        "G4L_HF_DOWNLOADER_XET_NUM_CONCURRENT_RANGE_GETS": "64",
        "G4L_HF_XET_FIRST_BYTE_TIMEOUT_SECONDS": "25",
        "G4L_HF_XET_SLOW_SPEED_BPS": "1048576",
        "G4L_HF_XET_SLOW_SPEED_GRACE_SECONDS": "45",
        "G4L_HF_SNAPSHOT_MAX_WORKERS": "64"
      },
      "bootstrap": {
        "python_executable": "python3.11",
        "venv_directory": "${WORKSPACE_ROOT}/stable-audio-tools/.venv",
        "requirements_file": "${WORKSPACE_ROOT}/stable-audio-tools/requirements.txt",
        "upgrade_build_tools": true,
        "pip_arguments": []
      },
      "log_file": "stable-audio.log",
      "health_check": {
        "url": "http://127.0.0.1:8005/health",
        "expected_status": 200,
        "interval_seconds": 3,
        "timeout_seconds": 2
      },
      "auto_start": false,
      "restart_on_crash": true,
      "graceful_shutdown_seconds": 8
    }
  ]
}
