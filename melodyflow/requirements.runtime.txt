# Runtime dependencies for MelodyFlow localhost backend (macOS Apple Silicon).
# Captured from known-working environment on 2026-02-07.

Flask==3.1.2
flask-cors==6.0.2
psutil==7.2.2

# Optional (localhost_melodyflow.py falls back gracefully if missing)
# redis>=5.0

torch==2.4.0
torchaudio==2.4.0
torchvision==0.19.0
mlx>=0.25.0

av==16.1.0
einops==0.8.2
flashy==0.0.2
hydra-core==1.3.2
hydra-colorlog==1.2.0
julius==0.2.7
num2words==0.5.14
numpy==2.3.5
sentencepiece==0.2.1
spacy==3.8.11
# Keep hub pinned for MelodyFlow runtime compatibility with Transformers 4.31.
# A separate lightweight downloader env handles high-performance predownload.
huggingface_hub==0.16.4
tqdm==4.67.2
# Pin to the baseline used in Linux builds for Encodec compatibility.
transformers==4.31.0
demucs==4.0.1
librosa==0.11.0
soundfile==0.13.1
torchmetrics==1.8.2
protobuf==6.33.5

# xformers is CUDA-centric and should stay disabled on macOS Apple Silicon.
